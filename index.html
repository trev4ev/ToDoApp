<!DOCTYPE HTML>
<html>
    <head>
        <title>ToDo List</title>
        <meta charset="UTF-8">
        <link href = 'todo.css' type = "text/css" rel = 'stylesheet'>
    </head>
    <body>
        <div id = 'top'>
            <input type = text id = 'input'>
            <button type = 'button' onclick= 'add()'>Add</button>
        </div>    
        <div id = 'main'>
        </div>
            
        <script> 
            function add()
            {
                var string = document.getElementById('input').value;
                if(string.trim() == "")
                {
                    return;
                }
                var x = document.createElement("P");
                string = string.replace(/\s/g, '\xa0');
                var y = document.createTextNode(string);
                x.appendChild(y);
                document.getElementById('main').appendChild(x);
                x.addEventListener('click',function(){
                    if(x.style.textDecoration == "line-through")
                    {
                        x.style.textDecoration = "none";
                    }
                    else{
                        x.style.textDecoration = "line-through";
                    }
                    
                },false);
                x.addEventListener('dblclick',function(){
                    document.getElementById('main').removeChild(x);                   
                },false);
                document.getElementById('input').value = "";
            }
            
            window.addEventListener("keydown", checkKeyPressed, false);
 
            function checkKeyPressed(e) {
                if (e.keyCode == 13) {
                    add();
                }
            }
        </script>
    </body>
</html>